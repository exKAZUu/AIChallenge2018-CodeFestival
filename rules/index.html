<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ゲームルール | AI Challenge 2018 @ CODE FESTIVAL</title>
    <meta name="description" content="対戦型ゲームAIプログラミングコンテスト">
    
    
    <link rel="preload" href="/AIChallenge2018AtCodeFestival/assets/css/0.styles.ee71f192.css" as="style"><link rel="preload" href="/AIChallenge2018AtCodeFestival/assets/js/app.928ec715.js" as="script"><link rel="preload" href="/AIChallenge2018AtCodeFestival/assets/js/2.88648196.js" as="script"><link rel="preload" href="/AIChallenge2018AtCodeFestival/assets/js/10.4e28e451.js" as="script"><link rel="prefetch" href="/AIChallenge2018AtCodeFestival/assets/js/11.bcb96f38.js"><link rel="prefetch" href="/AIChallenge2018AtCodeFestival/assets/js/3.d74a9f16.js"><link rel="prefetch" href="/AIChallenge2018AtCodeFestival/assets/js/4.b0dd8730.js"><link rel="prefetch" href="/AIChallenge2018AtCodeFestival/assets/js/5.25a3ffb0.js"><link rel="prefetch" href="/AIChallenge2018AtCodeFestival/assets/js/6.8b7140e3.js"><link rel="prefetch" href="/AIChallenge2018AtCodeFestival/assets/js/7.d65e5faf.js"><link rel="prefetch" href="/AIChallenge2018AtCodeFestival/assets/js/8.644bc46b.js"><link rel="prefetch" href="/AIChallenge2018AtCodeFestival/assets/js/9.66633785.js">
    <link rel="stylesheet" href="/AIChallenge2018AtCodeFestival/assets/css/0.styles.ee71f192.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/AIChallenge2018AtCodeFestival/" class="home-link router-link-active"><!----> <span class="site-name">AI Challenge 2018 @ CODE FESTIVAL</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/AIChallenge2018AtCodeFestival/guide/" class="nav-link">参加要項</a></div><div class="nav-item"><a href="/AIChallenge2018AtCodeFestival/rules/" class="nav-link router-link-exact-active router-link-active">ゲームルール</a></div><div class="nav-item"><a href="/AIChallenge2018AtCodeFestival/downloads/" class="nav-link">ダウンロード</a></div><div class="nav-item"><a href="https://aichallenge.exkazuu.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  オンライン対戦システム
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/AIChallenge2018AtCodeFestival/faq/" class="nav-link">FAQ</a></div><div class="nav-item"><a href="/AIChallenge2018AtCodeFestival/contact/" class="nav-link">お問い合わせ</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/AIChallenge2018AtCodeFestival/guide/" class="nav-link">参加要項</a></div><div class="nav-item"><a href="/AIChallenge2018AtCodeFestival/rules/" class="nav-link router-link-exact-active router-link-active">ゲームルール</a></div><div class="nav-item"><a href="/AIChallenge2018AtCodeFestival/downloads/" class="nav-link">ダウンロード</a></div><div class="nav-item"><a href="https://aichallenge.exkazuu.net/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  オンライン対戦システム
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/AIChallenge2018AtCodeFestival/faq/" class="nav-link">FAQ</a></div><div class="nav-item"><a href="/AIChallenge2018AtCodeFestival/contact/" class="nav-link">お問い合わせ</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ゲームルール"><a href="#ゲームルール" class="header-anchor">#</a> ゲームルール</h1> <p>パズルゲーム <a href="https://ja.wikipedia.org/wiki/2048_(%E3%82%B2%E3%83%BC%E3%83%A0)" target="_blank" rel="noopener noreferrer">2048<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> が対戦ゲームになった！</p> <p>本概要版を 2018/11/03 (土)に、ベータ版を 2018/11/07 (水)に公開しました。正式版を 2018/11/10 (土)に公開しました。
ベータ版からの更新内容は GitHub の<a href="https://github.com/exKAZUu/AIChallenge2018AtCodeFestival/compare/7d601f23273478bb87a5eca2da4affd4dfd4d120...master?expand=1" target="_blank" rel="noopener noreferrer">差分表示機能<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>でご確認いただけます。
<strong>誤りや改善すべき箇所がございましたら、<a href="https://github.com/exKAZUu/AIChallenge2018AtCodeFestival" target="_blank" rel="noopener noreferrer">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 上でご連絡いただければ幸いです！</strong></p> <h2 id="基本ルール"><a href="#基本ルール" class="header-anchor">#</a> 基本ルール</h2> <p>2 人のプレイヤーはそれぞれ 5 x 5 のサイズのボードと初期値が 0 のスコアを持っています。
ボードの各マスには高々 1 個の正整数が入ります。
ゲーム開始時、お互いのボードには相手プレイヤーが指定した 1 つのマスに 2 が置いてあります。
ゲームでは 2 人のプレイヤーに交互にターン（手番）が回り、自分のとる行動を選択します。
ターンは次の 2 個のフェーズからなります。
なお、対戦相手や先攻・後攻は、オンライン対戦システムによって自動的に決定されます。</p> <p>どちらかのプレイヤーが勝利条件を満たす、もしくは、
2 人のプレイヤーがそれぞれ 1000 ターン行動するとゲーム終了となり、勝敗が決まります。
勝利条件および勝敗の決め方については、後述の勝利条件をご覧ください。</p> <h3 id="メインフェーズ"><a href="#メインフェーズ" class="header-anchor">#</a> メインフェーズ</h3> <p>ターンプレイヤーは上下左右のいずれかの向きを 1 個選択します。
ターンプレイヤーのボード上の数たちは、選択された向きに、ボードの端か他の数にぶつかるまで移動します。
このとき 2 個の等しい数がぶつかると、それらがマージ（加算）されて 1 個の数になります。
マージが発生するたび、マージによってできた数に等しい値がターンプレイヤーのスコアに加算されます。</p> <h4 id="例-1"><a href="#例-1" class="header-anchor">#</a> 例 1</h4> <p>次のような状態のボードについて「右」を選択した場合を考えます。
（<code>.</code>は空マスを表します。以下の図示は<strong>ゲームソフトウェアが与える実際の入力形式とは異なります</strong>。）</p> <div class="language- extra-class"><pre class="language-text"><code>. 4 . 4 .
4 2 . . .
2 2 2 . .
4 2 . 2 .
2 2 2 2 2
</code></pre></div><p>1 行目の 4 と 4 はマージされて 8 になります。
2 行目の 4 と 2 は順序を保ったまま右に移動します。
3 行目の 3 個の 2 は移動の先頭（右端）から順にマージが発生し 4 と 2 になります。
4 行目の 2 と 2 はマージされて 4 になります。続けて 4 とマージはされません。
5 行目の 2 と 2 の各ペアはマージされて、それぞれ 4 になります。 8 にはなりません。
その結果、ボードは次のように変化しました。</p> <div class="language- extra-class"><pre class="language-text"><code>. . . . 8
. . . 4 2
. . . 2 4
. . . 4 4
. . 2 4 4
</code></pre></div><h3 id="アタックフェーズ"><a href="#アタックフェーズ" class="header-anchor">#</a> アタックフェーズ</h3> <p>相手のボードの任意の空マスを選び、正整数を置くことができます。
直前のメインフェーズでマージが発生した回数が X のとき、1 個以上で、かつ、すべて同じ正整数で、かつ、総和が 2<sup>X+1</sup> の正整数を置きます。
例えば、メインフェーズで 2 回マージした場合、 1 個の <code>8</code>、2 個の <code>4</code>、4 個の <code>2</code> のいずれかのパターンで正整数を置かなければなりません。
ただし、存在しないマス、および、既に正整数が置かれたマスは選べません。</p> <h2 id="入出力"><a href="#入出力" class="header-anchor">#</a> 入出力</h2> <p>以下に入出力の形式を記します。各出力の末尾は改行コードであり、かつ、出力後に標準出力を flush しなければなりません。</p> <h3 id="ゲーム開始前の入力"><a href="#ゲーム開始前の入力" class="header-anchor">#</a> ゲーム開始前の入力</h3> <pre>Player
</pre> <ul><li>Player: プレイヤー番号
<ul><li><code>0</code>: 先攻プレイヤー</li> <li><code>1</code>: 後攻プレイヤー</li></ul></li></ul> <h3 id="ゲーム開始前の出力"><a href="#ゲーム開始前の出力" class="header-anchor">#</a> ゲーム開始前の出力</h3> <pre>r c
</pre> <ul><li>r: ゲーム開始時に相手のボードに 2 を置く行 (1 ≦ r ≦ 5)</li> <li>c: ゲーム開始時に相手のボードに 2 を置く列 (1 ≦ c ≦ 5)</li></ul> <h3 id="各ターンの入力"><a href="#各ターンの入力" class="header-anchor">#</a> 各ターンの入力</h3> <pre>Turn TimeLeft ScoreOfTurnPlayer ScoreOfOtherPlayer
A<sub>1,1</sub> A<sub>1,2</sub> ... A<sub>1,5</sub>
A<sub>2,1</sub> A<sub>2,2</sub> ... A<sub>2,5</sub>
:
A<sub>5,1</sub> A<sub>5,2</sub> ... A<sub>5,5</sub>
B<sub>1,1</sub> B<sub>1,2</sub> ... B<sub>1,5</sub>
B<sub>2,1</sub> B<sub>2,2</sub> ... B<sub>2,5</sub>
:
B<sub>5,1</sub> B<sub>5,2</sub> ... B<sub>5,5</sub>
</pre> <ul><li>Turn: ターン数
<ul><li>初期値は 1 で、各プレイヤーがそれぞれ 1 回行動すると、ターン数が 1 増える。</li></ul></li> <li>TimeLeft: ターンプレイヤーの残り実行時間（ミリ秒）
<ul><li>100 秒 から、既に消費した実行時間を引いたもの。</li></ul></li> <li>ScoreOfTurnPlayer: ターンプレイヤーのスコア</li> <li>ScoreOfOtherPlayer: ターンプレイヤーではないプレイヤーのスコア</li> <li>A<sub>i,j</sub>: 自分のボードの i 行目 j 列目のマスの状態</li> <li>B<sub>i,j</sub>: 相手のボードの i 行目 j 列目のマスの状態
<ul><li><code>0</code> のとき、そのマスは空である。</li> <li>正整数 a のとき、そのマスの数は 2<sup>a</sup> である。</li></ul></li></ul> <h3 id="各ターンの出力"><a href="#各ターンの出力" class="header-anchor">#</a> 各ターンの出力</h3> <pre>Command M V r<sub>1</sub> c<sub>1</sub> r<sub>2</sub> c<sub>2</sub> ... r<sub>M</sub> c<sub>M</sub>
</pre> <ul><li>Command: ボードをスライドする向き
<ul><li><code>U</code>: 上</li> <li><code>R</code>: 右</li> <li><code>D</code>: 下</li> <li><code>L</code>: 左</li></ul></li> <li>M: 相手のボードに置く数の個数</li> <li>V: ボードに置く数 2<sup>V</sup>を表す整数値 (1 ≦ V)</li> <li>r<sub>i</sub>: i 個目の数を置く行 (1 ≦ r<sub>i</sub> ≦ 5)</li> <li>c<sub>i</sub>: i 個目の数を置く列 (1 ≦ c<sub>i</sub> ≦ 5)</li></ul> <p>出力の途中に改行を挿入しないように注意してください。</p> <h2 id="実行時間"><a href="#実行時間" class="header-anchor">#</a> 実行時間</h2> <p>各プレイヤーは実行時間に制限があります。
ゲーム開始前の入出力は 1 秒以内に終了しなければなりません。
各ターンは 1 秒以内に終了して、かつ、全ターンの合計が 100 秒以内でなければなりません。
超過した場合、ゲームに敗北します。
プログラムのコンパイル時間・ゲーム開始前の入出力の時間は、この 100 秒には含まれません。</p> <h2 id="勝利条件"><a href="#勝利条件" class="header-anchor">#</a> 勝利条件</h2> <p>以下の条件のどちらかを満たすことで、ゲームに勝利できます。</p> <ol><li>対戦相手のプレイヤーのターンに、以下の条件のいずれかを満たした場合
<ul><li>対戦相手のターン開始時において、対戦相手がどんな行動を取ってもボードの状態を変化させられない場合</li> <li>対戦相手のメインフェーズにおいて、対戦相手が行動してもボードの状態が変化しなかった場合</li> <li>対戦相手の AI プログラムが、ゲームからの入力を受け取らなかった場合</li> <li>対戦相手の AI プログラムの出力が、定められたフォーマットもしくは制約を満たさなかった場合
<ul><li>例えば、アタックフェーズで既に正整数が置かれているマスを選んだ場合や、異なる総和の正整数を置こうとした場合も該当します。</li></ul></li> <li>対戦相手の AI プログラムが、実行時間の制約を満たさなかった場合</li></ul></li> <li>2 人のプレイヤーがそれぞれ 1000 ターンで行動した後、自分のスコアが対戦相手のスコアより高かった場合</li> <li>2 人のプレイヤーがそれぞれ 1000 ターンで行動した後、自分のスコアと対戦相手のスコアが等しく、かつ、自分が後攻であった場合</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/AIChallenge2018AtCodeFestival/assets/js/app.928ec715.js" defer></script><script src="/AIChallenge2018AtCodeFestival/assets/js/2.88648196.js" defer></script><script src="/AIChallenge2018AtCodeFestival/assets/js/10.4e28e451.js" defer></script>
  </body>
</html>
